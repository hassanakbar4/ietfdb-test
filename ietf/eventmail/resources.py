# Autogenerated by the makeresources management command 2015-08-06 11:00 PDT
from tastypie.resources import ModelResource
from tastypie.fields import ToOneField, ToManyField     # pyflakes:ignore
from tastypie.constants import ALL, ALL_WITH_RELATIONS  # pyflakes:ignore

from ietf import api

from ietf.eventmail.models import *                            # pyflakes:ignore


class IngredientResource(ModelResource):
    class Meta:
        queryset = Ingredient.objects.all()
        #resource_name = 'ingredient'
        filtering = { 
            "slug": ALL,
            "desc": ALL,
            "template": ALL,
        }
api.eventmail.register(IngredientResource())

class RecipeResource(ModelResource):
    ingredients      = ToManyField(IngredientResource, 'ingredients', null=True)
    class Meta:
        queryset = Recipe.objects.all()
        #resource_name = 'recipe'
        filtering = { 
            "slug": ALL,
            "desc": ALL,
            "ingredients": ALL_WITH_RELATIONS,
        }
api.eventmail.register(RecipeResource())

