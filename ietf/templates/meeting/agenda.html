{% extends "base.html" %}
{# Copyright The IETF Trust 2007, All Rights Reserved #}
{% load humanize %}
{% block title %} Meeting Agenda of the {{ meeting.num|ordinal }} IETF Meeting{% endblock %}
{% block head %}
  <link href="http://tools.ietf.org/css/palette.css"  rel="stylesheet" type="text/css" />
  <script language='javascript' src='http://tools.ietf.org/js/prototype-1.6.0.2.js'></script>
  <script language='javascript' src='/js/agenda.js'></script>
{% endblock %}
{% block body_attributes %}onload='set_cookie_colors()'{% endblock %}
{% block content %}
<span id='colorpallet'></span>
<p style="text-align: center">
Agenda of the {{ meeting.num|ordinal }} IETF Meeting<br />
{{ meeting.start_date|date:"F j" }}-{% ifnotequal meeting.start_date.month meeting.end_date.month %}{{ meeting.end_date|date:"F " }}{% endifnotequal %}{{ meeting.end_date|date:"j, Y" }}<br />
Updated {{ update.updated|date:"Y-m-d H:i:s T" }}<br />
(There's also a <a href="/meeting/{{meeting.num}}/agenda.txt">plaintext agenda</a> and a <a href="http://tools.ietf.org/agenda/{{meeting.num}}/">tools-style agenda</a> available)<br />
<br />
IETF agendas are subject to change, up to and during the meeting.<br />
</p>

<table id="agenda">
{% for slot in timeslots %}
   {% ifchanged  %}
      <tr>
	 <td colspan="4">
	    <hr />
	    <h4>{{ slot.meeting_date|date:"l"|upper }}, {{ slot.meeting_date|date:"F j, Y" }}</h4>
	 </td>
      </tr>
      {% if slot.reg_info %}
      <tr>
	 <td colspan="4">
	    {{ slot.registration.time_desc  }}  {{ slot.registration.name  }}
	    {% if venue.reg_area_name %} - <a href="http://tools.ietf.org/agenda/{{meeting.num}}/venue/?room={{ venue.reg_area_name|slugify }}">{{ venue.reg_area_name }}</a>{% endif %}
	 </td>
      </tr>
      {% endif %}
   {% endifchanged %}
   {% if slot.session_name %}
      {% if slot.break_info %}
      <tr>
	 <td colspan="4">
	    <br />
	    {{ slot.break_info.time_desc }}  {{ slot.break_info.name }}
	    {% if venue.break_area_name and slot.break_info.show_break_location %} - <a href="http://tools.ietf.org/agenda/{{meeting.num}}/venue/?room={{ venue.break_area_name|slugify }}">{{ venue.break_area_name }}</a>{% endif %}
	 </td>
      </tr>
      {% endif %}
      <tr>
	 <td colspan="4">
	    <b>{{ slot.time_desc               }}  {{ slot.session_name }}</b>
	    {% ifequal slot.sessions.0.acronym "plenaryw" %}
	       <b>- {{ slot.sessions.0.room_id.room_name }}</b><br>
	       <pre>{{ ops_plenary_agenda|escape }}</pre>
	    {% endifequal %}
	    {% ifequal slot.sessions.0.acronym "plenaryt" %}
	       <b>- {{ slot.sessions.0.room_id.room_name }}</b><br>
	       <pre>{{ tech_plenary_agenda|escape }}</pre>
	    {% endifequal %}
	 </td>
      </tr>
      {% if not slot.is_plenary %}
      {% for session in slot.sessions_by_area|dictsort:"area" %}
      <tr id="{{meeting.num}}-{{slot.meeting_date|date:"D"|lower}}-{{slot.time_desc|slice:":4"}}-{{session.info.acronym|lower}}">
	 <td><a href="http://tools.ietf.org/agenda/{{meeting.num}}/venue/?room={{session.info.room_id.room_name|slugify}}">{{ session.info.room_id.room_name}}</a></td>
	 {% if session.info.area %}
	 <td>{{ session.info.area|upper}}</td>
	 <td>{% if session.info.isWG %}<a href="http://www.ietf.org/html.charters/{{ session.info.acronym|lower }}-charter.html">{{ session.info.acronym|lower }}</a>{% else %}{{ session.info.acronym|lower }}{% endif %}</td>
	 <td>
	    {% if session.info.agenda_file %}<a href="http://www3.ietf.org/proceedings/{{ session.info.agenda_file }}">{{ session.info.acronym_name|escape }} {{ session.info.group_type_str }}</a>{% else %}{{ session.info.acronym_name|escape }} {{ session.info.group_type_str }}{% endif %}
	    {% if session.info.special_agenda_note %}<br/> - {{ session.info.special_agenda_note }}{% endif %}
	 </td>
	 {% endif %}
      </tr>
      {% endfor %}
      {% endif %}
   {% else %}
      {% for session in slot.sessions %}
      <tr>
	 <td colspan="4">
	    {{ slot.time_desc }}  {{ session.acronym_name|escape }} - <a href="http://tools.ietf.org/agenda/{{meeting.num}}/venue/?room={{session.room_id.room_name|slugify}}">{{ session.room_id.room_name}}</a>
	 </td>
      </tr>
      {% endfor %}
   {% endif %}
{% endfor %}
<tr><td colspan="4"><hr /></td></tr>
<tr><td colspan="4" style="text-align: center"><b>AREA DIRECTORS</b></td></tr>
<tr><td colspan="4">
<table>
{% regroup ads by area as grouped %}{% for ad in grouped %}
<tr valign="top">
  <td>{{ ad.grouper|upper }}</td>
  <td>{{ ad.list.0.area.area_acronym.name }}</td>
  <td>
  {% for ad_person in ad.list %}
    {% ifequal forloop.counter 2 %} &amp; {% endifequal %}
    {{ ad_person.person }}/{{ ad_person.person.affiliation }} 
  {% endfor %}
  </td>
</tr>
{% endfor %}
</table>
</td></tr>
</table>
{% endblock %}
