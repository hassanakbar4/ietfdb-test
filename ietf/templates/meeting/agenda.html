{# Copyright The IETF Trust 2007, All Rights Reserved #}
{% extends "base.html" %}
{% load humanize %}
{% block title %} Meeting Agenda of the {{ meeting_num|ordinal }} IETF Meeting{% endblock %}
{% block body_attributes %}background="http://www.ietf.org/meetings/peachbkg.gif"{% endblock %}
{% block content %}

<center> 
<strong> Agenda of the {{ meeting_num|ordinal }} IETF Meeting </strong> <br/> 
<strong>{{ meeting_info.start_date|date:"F j" }}-{% ifnotequal meeting_info.start_date.month meeting_info.end_date.month %}{{ meeting_info.end_date|date:"F " }}{% endifnotequal %}{{ meeting_info.end_date|date:"j, Y" }} </strong><br />
Updated {{ last_update_info.updated|date:"F j, Y P (T)" }}<br />
(<a href="{% url ietf.meeting.views.show_html_agenda meeting_num,"txt" %}">Agenda in text/plain format</a>) <br />
<br />
<i>IETF agendas are subject to change, up to and during the meeting.</i><br />
<br />
</center> 


<!-- Update to include Saturday Session -->
{% regroup queryset_list_pre_session by day_id as pre_days %}
{% for pre_day in pre_days %}
  <b>{{ pre_day.list.0.meeting_date|date:"l"|upper }}, {{ pre_day.list.0.meeting_date|date:"F j, Y" }} </b><br>
  {% ifequal pre_day.list.0.day_id 0 %}
    {{ nonsession_info.0.time_desc }} {{ nonsession_info.0.non_session_ref }} - {{ meetingvenue_info.reg_area_name }}
<br>
  {% endifequal %}
  {% for item in pre_day.list %}
    {% for session in item.sessions %}
      {{ item.time_desc }} {{ session.acronym_name }} - {{ session.sched_room_id1.room_name }}<br>
    {% endfor %}
  {% endfor %}
  <br>
{% endfor %}
<!-- End Update -->
{% regroup object_list by day_id as days %}
{% for day in days %}
   <b>{{ day.list.0.meeting_date|date:"l"|upper }}, {{ day.list.0.meeting_date|date:"F j, Y" }} </b><br>
   {% if day.list.0.reg_info %}{{ day.list.0.reg_info }} - {{ meetingvenue_info.reg_area_name }} <br>{% endif %}
   {% ifequal day.list.0.day_id "5" %}
   {{ day.list.0.fbreak_info }} - {{ meetingvenue_info.break_area_name }} <br>
   {% else %}
   {{ day.list.0.morning_br_info }} - {{ meetingvenue_info.break_area_name }} <br>
   {% endifequal %}
   <br>
   {% for item in day.list %}
      {% ifequal item.session_name_id 3 %}
	 {{ day.list.0.lunch_br_info }} Break<br>
      {% endifequal %}
      {% ifequal item.session_name_id 4 %}
         {% if day.list.0.an_br1_info %}
	   {{ day.list.0.an_br1_info }} - {{ meetingvenue_info.break_area_name }}<br>
         {% endif %}
      {% endifequal %}
      {% ifequal item.session_name_id 5 %}
         {% if day.list.0.an_br2_info %}
	   {{ day.list.0.an_br2_info }} - {{ meetingvenue_info.break_area_name }}<br>
         {% endif %}
      {% endifequal %}
      {% ifequal item.session_name_id 8 %}
         {% if day.list.0.an_br2_info %}
           {{ day.list.0.an_br2_info }} - {{ meetingvenue_info.break_area_name }}<br>
         {% endif %}
      {% endifequal %}
      {% ifequal item.session_name_id 10 %}
         {% if day.list.0.an_br2_info %}
           {{ day.list.0.an_br2_info }} - {{ meetingvenue_info.break_area_name }}<br>
         {% endif %}
      {% endifequal %}
      <b>{{ item.time_desc }} {{ item.session_name }} </b>
      {% ifequal item.sessions.0.acronym "plenaryw" %}
         <b>- {{ item.sessions.0.room_id.room_name }}</b><br>
         <pre>{{ plenaryw_agenda|escape }}</pre>
      {% else %}
          {% ifequal item.sessions.0.acronym "plenaryt" %}
             <b>- {{ item.sessions.0.room_id.room_name }}</b><br>
             <pre>{{ plenaryt_agenda|escape }}</pre>
          {% else %}
             <table border="0" cellspacing="0" cellpadding="0" width="800">
             {% for session in item.sessions|dictsort:"area" %}
	        <tr><td width="200">{{ session.room_id.room_name }}</td><td width="50">{{ session.area|upper }}</td><td width="100">{% if session.isWG %}<a href="http://www.ietf.org/html.charters/{{ session.acronym|lower }}-charter.html">{{ session.acronym|lower }}</a>{% else %}{{ session.acronym|lower }}{% endif %}</td><td>{% if session.agenda_file %}<a href="http://www3.ietf.org/proceedings/{{ session.agenda_file }}">{{ session.acronym_name }} {{ session.group_type_str }}</a>{% else %}{{ session.acronym_name }} {{ session.group_type_str }}{% endif %}{% if session.special_agenda_note %} <b>- {{ session.special_agenda_note }}</b>{% endif %}</td></tr>
             {% endfor %}
             </table>
          {% endifequal %}
      {% endifequal %}
      <br>
   {% endfor %}
   <br>
{% endfor %}
<hr>
<center><b>AREA DIRECTORS</b></center><br>
<table border="0" width="800">
{% regroup qs_ads by area as ads %}
{% for ad in ads %}
<tr valign="top">
  <td width="65">{{ ad.grouper|upper }}</td>
  <td width="140">{{ ad.list.0.area.area_acronym.name }}</td>
  <td>
  {% for ad_person in ad.list %}
    {% ifequal forloop.counter 2 %} & {% endifequal %}
    {{ ad_person.person }}/{{ ad_person.person.affiliation }} 
  {% endfor %}
  </td>
</tr>
{% endfor %}
</table>
{% endblock %}
