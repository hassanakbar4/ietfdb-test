{% extends "ipr/search_result.html" %}

{% load ietf_filters %}

{% block search_result %}
<p class="alert alert-info">Total number of IPR disclosures found: <b>{{ iprs|length }}</b>.</p>

<table class="table table-condensed table-striped">
	<thead>
		<th>Date</th>
		<th>ID</th>
		<th>Statement</th>
	</thead>

	<tbody>
		{% for ipr in iprs %}
			<tr>
				<td class="text-nowrap">{{ ipr.submitted_date }}</td>
				<td class="text-right">{{ ipr.ipr_id }}</td>
				<td><a href="{% url "ietf.ipr.views.show" ipr_id=ipr.ipr_id %}">{{ ipr.title }}</a></td>
			</tr>
		{% endfor %}
	</tbody>
</table>

<p class="alert alert-info">Total number of documents searched: <b>{{ docs|length}}</b>.</p>

<table class="table table-condensed table-striped">
	<thead>
		<th>Date</th>
		<th>ID</th>
		<th>Statement</th>
	</thead>

	<tbody>
		{% for doc in docs %}
			<tr>
				<th class="warning" colspan="3">
					Results for {{ doc.name|rfcspace|lstrip:"0"|rfcnospace }} ("{{ doc.document.title }}"){% if not forloop.first %}{% if doc.related %}, that was {{ doc.relation|lower }} {{ doc.related.source|rfcspace|lstrip:"0"|rfcnospace  }} ("{{ doc.related.source.title }}"){% endif %}{% endif %}:
				</th>
			</tr>

			{% if doc.iprs %}
				{% for ipr in doc.iprs %}
					<tr>
						<td class="text-nowrap">{{ ipr.submitted_date }}</td>
						<td class="text-right">{{ ipr.ipr_id }}</td>
						<td><a href="{% url "ietf.ipr.views.show" ipr_id=ipr.ipr_id %}">{{ ipr.title }}</a></td>
					</tr>
				{% endfor %}
			{% else %}
					<tr>
						<td></td>
						<td></td>
						<td>
							No IPR disclosures have been submitted directly on <i>{{ doc.name|rfcspace|lstrip:"0" }}</i>{% if iprs %},
							but there are disclosures on {% if docs|length == 2 %}a related document{% else %}related documents{% endif %}, listed on this page{% endif %}.
						</td>
					</tr>
			{% endif %}
		{% endfor %}
	</tbody>
</table>

{% endblock %}
