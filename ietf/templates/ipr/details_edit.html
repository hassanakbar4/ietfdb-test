{% extends "ietf.html" %}

{% load ietf_filters %}
{% load bootstrap3 %}

{% block title %}Patent disclosure and licensing declaration template for {{ section_list.disclosure_type|lower_allcaps }}{% endblock %}

{% block content %}
<h1>
	{{ section_list.disclosure_type|lower_allcaps|capfirst }}<br>
	<small>Patent disclosure and licensing declaration template</small>
</h1>

{% bootstrap_messages %}

{% if section_list.generic %}
	<p>This document is an IETF IPR Patent Disclosure and Licensing
	Declaration Template and is submitted to inform the IETF of a) patent
	or patent application information that is not related to a specific
	IETF document or contribution, and b) an IPR Holder's intention with
	respect to the licensing of its necessary patent claims. No actual
	license is implied by submission of this template.</p>
{% endif %}

{% if section_list.specific %}
	<p>This document is an IETF IPR Disclosure and Licensing Declaration
	Template and is submitted to inform the IETF of a) patent or patent
	application information regarding the IETF document or contribution
	listed in Section IV, and b) an IPR Holder's intention with respect to
	the licensing of its necessary patent claims.  No actual license is
	implied by submission of this template. Please complete and submit a
	separate template for each IETF document or contribution to which the
	disclosed patent information relates.</p>
{% endif %}

{% if section_list.third_party %}
	<p>This form is used to let the IETF know about patent information
	regarding an IETF document or contribution when the person letting the
	IETF know about the patent has no relationship with the patent owners.
	Click <a href="/ipr/new-specific">here</a>
	if you want to disclose information about patents or patent
	applications where you do have a relationship to the patent owners or
	patent applicants.</p>
 {% endif %}

{% if section_list.also_specific %}
	<p><b>Note:</b> According to Section 6.4.3 of
	<a href="//www.ietf.org/rfc/rfc3979.txt">RFC 3979</a>,
	"Intellectual Property Rights in IETF Technology," you
	are still required to file specific disclosures on IPR unless your
	generic disclosure satisfies certain conditions. Please see the
	RFC for details.</p>
{% endif %}

<p>
	If you wish to submit your IPR disclosure by e-mail, then please send
	it to <a href="mailto:ietf-ipr@ietf.org">ietf-ipr@ietf.org</a>.
	Submissions made by e-mail that do not comply with the formal
	requirements of Section 6, "IPR Disclosures," of
	<a href="//www.ietf.org/rfc/rfc3979.txt">RFC 3979</a>,
	"Intellectual Property Rights in IETF Technology",
	will be posted, but will be marked as "non-compliant".
</p>

<form role="form" class="form-horizontal" method="post">
	{% csrf_token %}

	{% if ipr.errors %}
		<div class="alert alert-danger">
			<p>
				There were errors in the submitted form -- see below.  Please correct these and resubmit.
			</p>
			{% if ipr.non_field_errors %}
				<ul class="errorlist">
					{% for error in ipr.non_field_errors %}
						<li>{{ error }}</li>
					{% endfor %}
				</ul>
			{% endif %}
		</div>
	{% endif %}

	{% if section_list.holder %}
		<h2>
			{% cycle I,II,III,IV,V,VI,VII,VIII as section %}.
			{% if section_list.third_party %}Possible{% endif %}
			Patent holder/applicant ("patent holder")
		</h2>
		{% bootstrap_field ipr.legal_name layout='horizontal' %}
	{% endif %}

	{% if section_list.holder_contact %}
		<h2>
			{% cycle section %}.
			Patent holder's contact for license application
		</h2>
		{% for field in ipr.holder_contact %}
			{% if field.name != "update_auth" %}
				{% bootstrap_field field layout='horizontal' %}
			{% endif %}
		{% endfor %}
	{% endif %}

	{% if section_list.ietf_contact %}
		<h2>
			{% cycle section %}.
			Contact information for the IETF participant whose personal belief triggered this disclosure
		</h2>
		{% for field in ipr.ietf_contact %}
			{% if field.name != "update_auth" %}
				{% bootstrap_field field layout='horizontal' %}
			{% endif %}
		{% endfor %}
	{% endif %}


	{% if section_list.ietf_doc %}
		<h2>
			{% cycle section %}.
			IETF document or other contribution to which this IPR disclosure relates
		</h2>
		{% bootstrap_field ipr.rfclist layout='horizontal' %}
		{% bootstrap_field ipr.draftlist layout='horizontal' %}
		{% bootstrap_field ipr.other_designations layout='horizontal' %}
	{% endif %}

	{% if section_list.patent_info %}
		<h2>
			{% cycle section %}.
			{% if section_list.generic %}
				Disclosure of patent information (i.e., patents or patent
				applications required to be disclosed by Section 6 of RFC3979)
			{% endif %}
			{% if section_list.specific %}
				Disclosure of patent information (i.e., patents or patent
				applications required to be disclosed by Section 6 of RFC3979)
			{% endif %}
			{% if section_list.third_party %}
				Disclosure of patent information, if known (i.e., patents or
				patent applications required to be disclosed by Section 6 of RFC3979)
			{% endif %}
		</h2>

		{% if ipr.patents or ipr.notes %}
			<h3>
				A. For granted patents or published pending patent applications,
				please provide the following information:
			</h3>
			{% bootstrap_field ipr.patents layout='horizontal' %}
			{% bootstrap_field ipr.date_applied layout='horizontal' %}
			{% bootstrap_field ipr.country layout='horizontal' %}
			{% bootstrap_field ipr.notes layout='horizontal' %}

			<h3>B. Does your disclosure relate to an unpublished pending patent application?</h3>
			{% bootstrap_field ipr.is_pending layout='horizontal' %}

			{% if section_list.generic %}
				<h3>C. Does this disclosure apply to all IPR owned by the submitter?</h3>
				{% bootstrap_field ipr.applies_to_all layout='horizontal' %}

			{% else %}
				<h3>
					C. If an Internet-Draft or RFC includes multiple parts and it is not
					reasonably apparent which part of such Internet-Draft or RFC is alleged
					to be covered by the patent information disclosed in Section
					V(A) or V(B), it is helpful if the discloser identifies here the sections of
					the Internet-Draft or RFC that are alleged to be so
					covered:
				</h3>

				{% if ipr.document_sections %}
					{% bootstrap_field ipr.document_sections layout='horizontal' %}
				{% else %}
					<i>No information submitted</i>
				{% endif %}
			{% endif %}
		{% else %}
			<p>This disclosure relates to an unpublished pending patent application.</p>
	{% endif %}
{% endif %}


	{% if section_list.licensing %}
		<!-- Not to be shown for third-party disclosures -->
		<h2>
			{% cycle section %}.
			Licensing declaration
		</h2>

		{% if section_list.generic %}
			The Patent Holder states that its position with respect
			to licensing any patent claims contained in the patent(s) or patent
			application(s) disclosed above that would necessarily be infringed by
			implementation of a technology required by a relevant IETF specification
			("Necessary Patent Claims"), for the purpose of implementing such
			specification, is as follows (select one licensing declaration option only):
		{% endif %}
		{% if section_list.specific %}
			The Patent Holder states that its position with respect
			to licensing any patent claims contained in the patent(s) or patent
			application(s) disclosed above that would necessarily be infringed by
			implementation of the technology required by the relevant IETF specification
			("Necessary Patent Claims"), for the purpose of implementing such
			specification, is as follows (select one licensing declaration option only):
		{% endif %}
		{% if section_list.third_party %}
			The Patent Holder states that its position with respect
			to licensing any patent claims contained in the patent(s) or patent
			application(s) disclosed above that would necessarily be infringed by
			implementation of the technology required by the relevant IETF specification
			("Necessary Patent Claims"), for the purpose of implementing such
			specification, is as follows (select one licensing declaration option only):
		{% endif %}

		{% comment %}
		XXX FACELIFT: Figure out how to omit the first (empty) licensing_option.
		{% endcomment %}
		{% bootstrap_field ipr.licensing_option layout='horizontal' %}
		{% bootstrap_field ipr.stdonly_license layout='horizontal' %}
		{% bootstrap_field ipr.comments layout='horizontal' %}

		{% if ipr.lic_checkbox %}
			{% if ipr.lic_checkbox != 1 %}
				{% bootstrap_field ipr.lic_checkbox layout='horizontal' %}
			{% endif %}

			{% if section_list.generic %}
				<p>
					<b>Note:</b> According to
					<a href="//www.ietf.org/rfc/rfc3979.txt">RFC 3979</a>,
					Section 6.4.3, unless you check the box
					above, and choose either option a) or b), you must still file specific
					IPR disclosures as appropriate.
				</p>
			{% endif %}
		{% endif %}

		<b>Note:</b> The individual submitting this template represents and warrants
		that he or she is authorized by the Patent Holder to agree to the
		above-selected licensing declaration.
	{% endif %}

	{% if section_list.submitter %}
		<h2>
			{% cycle section %}.
			Contact information of submitter of this form (if different from the
			contact information above)
		</h2>

		{% if ipr.ietf_contact_is_submitter %}
			<div class="form-group">
				{% if section_list.holder_contact %}
					<div class="col-md-offset-2 col-md-10 checkbox">
						<label>
							<input type="checkbox" class="submitter" name="hold_contact_is_submitter" {% if ipr.hold_contact_is_submitter_checked %}checked{%endif%}>
							Same as in Section II above
						</label>
					</div>
				{% endif %}

				{% if section_list.ietf_contact %}
					<div class="col-md-offset-2 col-md-10 checkbox">
						<label>
							<input type="checkbox" class="submitter" name="ietf_contact_is_submitter" {% if ipr.ietf_contact_is_submitter_checked %}checked{%endif%}>
							Same as in Section III above
						</label>
					</div>
				{% endif %}
			</div>
		{% endif %}

		{% for field in ipr.submitter %}
			{% if field.name != "update_auth" %}
				{% bootstrap_field field layout='horizontal' %}
			{% endif %}
		{% endfor %}
	{% endif %}


	{% if section_list.notes %}
		<h2>
			{% cycle section %}.
			Other notes
		</h2>
		{% bootstrap_field ipr.other_notes layout='horizontal' %}
	{% endif %}

	{% buttons layout='horizontal' %}
		<input class="btn btn-primary" type="submit" name="submit" value="Submit">
	{% endbuttons %}
</form>

{% endblock %}

{% block scripts %}
$(".submitter").click(function () {
	var c = $(this).prop("checked");
	var n = $(this).attr("name");
	var from = n.replace("contact_is_submitter", "");

	$("[id^=id_subm_]").each(function () {
		if (c) {
			$(this).val($("#id_" + from + this.id.replace("id_subm_", "")).val());
		} else {
			$(this).val("");
		}
		$(this).prop("disabled", c);
	});

	if (n === "hold_contact_is_submitter") {
		$("[name=ietf_contact_is_submitter]").prop("checked", false);
	} else {
		$("[name=hold_contact_is_submitter]").prop("checked", false);
	}
});

$(document).ready(function () {
	$(".submitter").each(function () {
		if ($(this).prop("checked")) {
			$("[id^=id_subm_]").prop("disabled", true);
		}
	});
});

{% endblock %}
