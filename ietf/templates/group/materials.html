{% extends "group/group_base.html" %}
{% load ietf_filters %}

{% block group_subtitle %}Materials{% endblock %}

{% block morecss %}
  {{ block.super }}
  .materials .edit-options { float: right; margin-left: 2em; font-style: italic; }
  .materials .snippable { width:25em; }
{% endblock %}

{% block group_content %}
  {% load ietf_filters %}

  {% if doc_types %}
    {% for doc_type, docs in doc_types %}
      <h2>{{ doc_type.name }}</h2>

      <table class="ietf-table ietf-doctable materials">

        <tr>
          <th>Title</th>
          <th>Abstract</th>
          <th>Curr. Rev.</th>
          <th>Date</th>
          <th>Last Presented</th>
          <th>On Agenda</th>
        </tr>

        {% for d in docs %}
          <tr class="{% cycle "evenrow" "oddrow" %}">
            <td><a class="title-link" href="{% url "doc_view" name=d.name %}">{{ d.title }}</a></td>
            <td class='snippable'>{{ d.abstract|format_snippet }} </td>
            <td>{{ d.rev }}</td>
            <td>{{ d.time|date:"Y-m-d" }}</td>
            <td>{% for p in  d.last_presented %}{{p.session.meeting}}{% if d.rev != p.rev %} (-{{ p.rev }}){% endif %}{%if not forloop.last%}, {% endif %}{% endfor %}</td>
            <td>{% for p in d.future_presentations %}{{p.session.meeting}}{% if d.rev != p.rev %} (-{{p.rev}}){%endif%}{%if not forloop.last%}, {%endif%}{%endfor%}</td>
          </tr>
        {% endfor %}
      </table>
    {% endfor %}
  {% else %}
    <h2>Materials</h2>

    <p>No materials uploaded.</p>
  {% endif %}

{% endblock %}

{% block content_end %}
<script src="/js/snippet.js" type="text/javascript"></script>
{% endblock %}
