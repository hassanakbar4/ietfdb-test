{% extends "base.html" %}
{# Copyright The IETF Trust 2015, All Rights Reserved #}
{% load origin %}

{% block title %}Mail Tokens{% endblock %}


{% block content %}
  {% origin %}
  <h1>Mail Tokens</h1>

  <table class="table table-condensed table-striped">
    <thead>
      <tr>
        <th>Token</th>
        <th>Recipients</th>
      </tr>
    </thead>
    <tbody>
    {% for mailtoken in mailtokens %}
        <tr>
          <td><span title="{{mailtoken.desc}}">{{mailtoken.slug}}</span></td>
          <td>To: 
            {% for recipient in mailtoken.to.all %}
              {% comment %}<span title="{{recipient.desc}}">{{recipient.slug}}</span>{% endcomment %}
              <a href="{% url 'ietf.mailtoken.views.show_recipients' recipient.slug %}" title="{{recipient.desc}}">{{recipient.slug}}</a>{% if not forloop.last %}, {% endif %}
            {% endfor %}
            {% if mailtoken.cc.exists %}
              <br/>Cc:
              {% for recipient in mailtoken.cc.all %}
                {% comment %}<span title="{{recipient.desc}}">{{recipient.slug}}</span>{% endcomment %}
                <a href="{% url 'ietf.mailtoken.views.show_recipients' recipient.slug %}" title="{{recipient.desc}}">{{recipient.slug}}</a>{% if not forloop.last %}, {% endif %}
              {% endfor %}
            {% endif %}
          </td>
        </tr>
    {% endfor %}
    </tbody>
  </table>

{% endblock %}
